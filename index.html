<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aeropress Recetas</title>
    <link href="./pics/favicon.png" rel="icon" type="image/png"/>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Cutive+Mono&display=swap');

        *{
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                font-family: 'Cutive Mono', monospace;
            }



        body{
          height: 100vh;
          margin: auto;
          background-color: #F5F5F5;
            
        }

        h1{
          margin-top: 24px;
          padding: 8px 32px 8px 32px;
          border: 2px solid #8D6E63;
          border-radius: 8px;
          color: #63483e;
          font-weight: bolder;
          text-align: center;
          max-width: 900px;
          margin: 24px 16px 0px 16px;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        main{
            display: flex;
            justify-items: center;
            gap: 24px;
            margin: auto;
            max-width: 1200px;
            flex-direction: column;
            align-items: center;
        }
        .container {
            max-width: 150px;
            border: 2px solid #8D6E63;
            border-radius: 8px;
            padding: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 12px;
            max-height: 146px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            
        }


        .grid-container {
          display: grid;
          grid-template-columns: repeat(2, minmax(140px, 1fr));
          gap: 20px;
        }


        @media (min-width: 540px) {
          .grid-container {
            grid-template-columns: repeat(4, minmax(140px, 1fr));
          }
        }






        img{
            max-width: 50px;
        }

        #recipe{
            display: flex;
            gap: 24px;
            width: 100%;
            flex-direction: column;
            align-items: center;
        }

        .recipe-cont{
          flex-direction: row !important;
          display: flex;
          gap: 8px;
        }

        .boton-receta,.inst-button{
            margin: 10px;
            padding: 8px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 8px;
            background-color: #8D6E63;
            color: #F5F5F5;
            display: flex;
            gap: 8px;
            align-items: center;
            border: none;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);

        }

        .inst-button:hover{
          background-color: #63483e;
        }


        .boton-receta:hover{
          background-color: #63483e;
        }


        .boton-receta img{
          max-width: 36px;
        }
        
        .inst-button img{
          max-width: 36px;
        }

        #cronometro-container {
      background-color: #fff;
      padding: 16px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      text-align: center;
      border: 2px solid #8D6E63;
    }

    #cronometro {
      font-size: 24px;
      margin-bottom: 10px;
    }

    #botones-cronometro {
      display: flex;
      justify-content: center;
      flex-direction: column;
    }

    .buttons-up{
      display: flex;
      margin-bottom: 8px;
      gap: 8px;
    }

    #botones-cronometro button {
            padding: 8px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 8px;
            border: 2px solid ;
            background-color: #8D6E63;
            color: #F5F5F5;
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      
    }

    #botones-cronometro button img{
      max-width: 36px;
    }

    #botones-cronometro button:hover{
      background-color: #63483e;
    }

    .titleR{
        font-size: 20px;
        font-weight: bold;
        line-height: 20px;
    }

    p{
        font-size: 16px;
    }
    
    .imgbig{
      max-width: 40px;
    }

    #cronometro{
      font-size: 32px;
      padding: 8px;
      border-radius: 8px;
      color: #63483e;
      border: 2px solid #63483e;
    }

    #cronometro-container h2{
      margin-bottom: 16px;
      color: #63483e;
      border-radius: 8px;
      padding: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      font-size: 32px;
    }

    .timerpic{
      width: 32px;
    }

    h2{
      font-size: 20px;
    }



        #inst-cont{
          display: flex;
          animation: fadein 1.5s;
          max-width: 840px;
        }

        #inst-cont h2{
          color: #63483e;
        }

        #inst-cont p{
          font-size: 16px;
        }
        .column {

            padding: 16px;
        }
        
        .step{
          margin-bottom: 16px;
        }

        .step h2{
          margin-bottom: 8px;
        }

        .crono-cont{
          display: flex;
          align-items: center;
          gap: 16px;
        }


        @keyframes fadein {
            from { opacity: 0; }
            to   { opacity: 1; }
        }

        #recipe {
            animation: fadein 1.5s;
        }

        footer{
          background-color: #63483e;
          color: #F5F5F5;
          padding: 8px;
          width: 100%;
          text-align: center;
          margin-top: 24px;
        }



    </style>
</head>
<body>
    
    

    <main>
      <h1>Generador de recetas Aeropress</h1>
    <div id="inst-cont">
      <div class="column">
          <div class="step">
              <h2>Paso 1: Método</h2>
              <p>Elige entre el método Tradicional o Invertido.</p>
          </div>
          <div class="step">
              <h2>Paso 2: Tamaño de molienda</h2>
              <p>Elige el grosor del grano de café.</p>
          </div>
          <div class="step">
              <h2>Paso 3: Temperatura del agua</h2>
              <p>Calienta el agua a la temperatura seleccionada, que puede variar desde 0°C hasta 96°C.</p>
          </div>
          <div class="step">
              <h2>Paso 4: Proporción Cafe : Agua</h2>
              <p>Mide el café y el agua según la proporción seleccionada, que puede variar desde 1:10 hasta 1:20.</p>
          </div>
          <div class="step">
            <h2>Paso 5: Tiempo de infusión</h2>
            <p>Vierte el café en el émbolo de la Aeropress y deja que infusione durante el tiempo seleccionado, que puede variar desde 30 segundos hasta 4 minutos.</p>
        </div>
      </div>

      <div class="column">

          <div class="step">
              <h2>Paso 6: Mezclar</h2>
              <p>Mezcla el café dentro de la Aeropress según la intensidad dada por la receta.</p>
          </div>
          <div class="step">
              <h2>Paso 7: Tiempo mezclando</h2>
              <p>Si has elegido mezclar, hazlo durante el tiempo seleccionado, que puede variar desde 30 segundos hasta 1:30 minutos.</p>
          </div>
          <div class="step">
              <h2>Paso 8: Tiempo presionando</h2>
              <p>Coloca un recipiente debajo de la Aeropress y presiona durante el tiempo seleccionado.</p>
          </div>
          <div class="step">
            <h2>Paso 9: Disfrutar de tu café</h2>
            <p>¡Ahora es el momento de disfrutar de tu café recién hecho!</p>
        </div>
      </div>

  </div>

  <button onclick="intruc()" class="inst-button"><img src="./pics/hide.png" alt="">Ocultar/mostrar las intrucciones</button>



    <div id="recipe"></div>
    <button onclick="generateRecipe()" class="boton-receta"><img src="./pics/recipe-book.png" alt="">Generar receta</button>

    <div id="cronometro-container">
        <h2><img src="./pics/timer.png" alt="" class="timerpic">Cronómetro</h2>
        <div class="crono-cont">
          <div id="cronometro">00:00:00</div>
          <div id="botones-cronometro">
            <div class="buttons-up">
              <button onclick="iniciarCronometro()"><img src="./pics/play-button.png" alt=""></button>
              <button onclick="pausarCronometro()"><img src="./pics/pause.png" alt=""></button>
            </div> 
            <button onclick="reiniciarCronometro()"><img src="./pics/reset.png" alt=""></button>
          </div>
      </div>
      </div>

    </main>  

      <footer>By Frank Riaño</footer>
      
      
    <script>

          let tiempoTotal = 0;
          let cronometro;
          let isPaused = true;

          function formatTiempo(segundos) {
            const horas = Math.floor(segundos / 3600);
            const minutos = Math.floor((segundos % 3600) / 60);
            const segundosRestantes = segundos % 60;
            return `${String(horas).padStart(2, '0')}:${String(minutos).padStart(2, '0')}:${String(segundosRestantes).padStart(2, '0')}`;
          }

          function actualizarCronometro() {
            document.getElementById("cronometro").innerText = formatTiempo(tiempoTotal);
          }

          function iniciarCronometro() {
            if (isPaused) {
              cronometro = setInterval(() => {
                tiempoTotal++;
                actualizarCronometro();
              }, 1000);
              isPaused = false;
            }
          }

          function pausarCronometro() {
            clearInterval(cronometro);
            isPaused = true;
          }

          function reiniciarCronometro() {
            tiempoTotal = 0;
            actualizarCronometro();
            pausarCronometro();
          }

        const method = ["Tradicional", "Invertido"];
        const grindSize = ["Fino", "Medio-fino", "Medio", "Medio-grueso", "Grueso"];
        const waterTemp = Array.from({length: 97}, (_, i) => i);
        const brewRatio = Array.from({length: 11}, (_, i) => `1 gr : ${i+10} ml`);
        const brewTime = Array.from({length: 20}, (_, i) => `${(i+3)*10} segundos`);
        const agitation = ["No mezclar", "Mezclar suavemente", "Mezclar moderadamente", "Mezclar vigorosamente"];
        const agitationTime = Array.from({length: 7}, (_, i) => `${(i+3)*10} segundos`);
        const pressingTime = Array.from({length: 7}, (_, i) => `${(i+3)*10} segundos`);

        function generateRecipe() {
            const recipe = {
                method: method[Math.floor(Math.random() * method.length)],
                grindSize: grindSize[Math.floor(Math.random() * grindSize.length)],
                waterTemp: waterTemp[Math.floor(Math.random() * waterTemp.length)],
                brewRatio: brewRatio[Math.floor(Math.random() * brewRatio.length)],
                brewTime: brewTime[Math.floor(Math.random() * brewTime.length)],
                agitation: agitation[Math.floor(Math.random() * agitation.length)],
                agitationTime: agitationTime[Math.floor(Math.random() * agitationTime.length)],
                pressingTime: pressingTime[Math.floor(Math.random() * pressingTime.length)]
            };

            if (recipe.agitation === "No agitar") {
                recipe.agitationTime = "0 segundos";
            }
            else
            {
                recipe.agitationTime;
            }


            const recipeElement = document.getElementById('recipe');
            recipeElement.style.animation = 'none';
            recipeElement.offsetHeight; /* trigger reflow */
            recipeElement.style.animation = null; 


            document.getElementById('recipe').innerHTML = `

            <div class="grid-container">
        <div class="container">
          <span class="titleR">Método</span>
          <p>${recipe.method}</p>
          <img src="./pics/aeropress.png" alt="">
      </div>
      <div class="container">
          <span class="titleR">Tamaño de molienda</span>
          <p>${recipe.grindSize}</p>
          <img class="imgbig" src="./pics/coffee-beans.png" alt="">
      </div>
      <div class="container">
          <span class="titleR">Temperatura del agua: </span>
          <p>${recipe.waterTemp}°C</p>
          <img src="./pics/icons8-heat-100.png" alt="">
      </div>
      <div class="container">
          <span class="titleR">Cafe:Agua</span>
          <p>${recipe.brewRatio}</p>
          <img src="./pics/icons8-coffee-64.png" alt="">
      </div>
    

    
      <div class="container">
        <span class="titleR">Tiempo de infusión</span>
        <p>${recipe.brewTime}</p>
        <img src="./pics/icons8-liquid-64.png" alt="">
    </div>
    <div class="container">
        <span class="titleR">Mezclar</span>
        <p>${recipe.agitation}</p>
        <img src="./pics//icons8-mix-64.png" alt="">
    </div>
    <div class="container">
        <span class="titleR">Tiempo mezclando</span>
        <p>${recipe.agitationTime}</p>
        <img class="imgbig" src="./pics/hourglass.png" alt="">
    </div>
    <div class="container">
        <span class="titleR">Tiempo presionando</span>
        <p>${recipe.pressingTime}</p>
        <img src="./pics/aeropress2.png" alt="">
    </div>
    </div>
            `;
        }

        function intruc() {
        var x = document.getElementById("inst-cont");
        if (x.style.display === "none") {
          x.style.display = "flex";
        } else {
          x.style.display = "none";
        }
      }

        
    </script>

</body>
</html>
